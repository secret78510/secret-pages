{"version":3,"sources":["webpack:///./src/views/frontend/ProductList.vue","webpack:///src/views/frontend/ProductList.vue","webpack:///./src/views/frontend/ProductList.vue?81b0","webpack:///./src/views/frontend/ProductList.vue?e57d","webpack:///./src/views/frontend/ProductList.vue?ef34"],"names":["render","_vm","this","_c","_self","staticClass","isLoading","_e","_m","_v","attrs","on","$event","preventDefault","category","staticStyle","_l","filteredTodo","item","key","id","getProduct","style","backgroundImage","image","class","fas","isStar","far","starProduct","stopPropagation","addStar","price","_s","_f","origin_price","title","description","status","loadingGetProduct","addCart","loadingAddCart","toShoppingCart","cart","carts","length","staticRenderFns","data","products","computed","newProducts","i","$store","state","methods","getProducts","api","axios","get","then","response","temCategory","sessionStorage","getItem","myFavourite","localStoraged","JSON","parse","localStorage","forEach","product","Product","$http","setItem","stringify","$router","push","qty","product_id","post","dispatch","productItem","avoidRepeat","some","includes","splice","indexOf","Item","history","current","path","$bus","$emit","removeSessionStorage","removeItem","created","mounted","window","addEventListener","Destroy","removeEventListener","component"],"mappings":"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","file":"js/chunk-0087690d.60c2afd1.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"wrap\"},[(_vm.isLoading)?_c('div',{staticClass:\"loading\"},[_c('div',{staticClass:\"loading-item fas fas fa-apple-alt\"}),_c('div',{staticClass:\"loading-item fas fa-lemon\"}),_c('div',{staticClass:\"loading-item fas fa-carrot\"})]):_vm._e(),_vm._m(0),_vm._m(1),_c('section',[_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md-3 my-2\"},[_c('div',{staticClass:\"Sidebar-sticky\"},[_c('h5',{staticClass:\"text-info\"},[_vm._v(\"商品分類\")]),_c('ul',{staticClass:\"Sidebar-menu\"},[_c('li',[_c('a',{attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();_vm.category ='all'}}},[_vm._v(\"全部商品\")])]),_c('li',[_c('a',{attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();_vm.category ='蔬菜'}}},[_vm._v(\"蔬菜\")])]),_c('li',[_c('a',{attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();_vm.category ='水果'}}},[_vm._v(\"水果\")])]),_c('li',[_c('a',{attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();_vm.category ='我的最愛'}}},[_vm._v(\"我的最愛\")])])])])]),_c('div',{staticClass:\"col-md-9\"},[_c('div',{staticClass:\"row\",staticStyle:{\"overflow\":\"hidden\"}},_vm._l((_vm.filteredTodo),function(item){return _c('div',{key:item.id,staticClass:\"col-md-6 my-4 card-Hover\",on:{\"click\":function($event){return _vm.getProduct(item.id)}}},[_c('div',{staticClass:\"card border-0 shadow-sm\"},[_c('div',{staticStyle:{\"height\":\"200px\",\"background-size\":\"cover\",\"background-position\":\"center\"},style:({backgroundImage: `url(${item.image})`})}),_c('div',{staticClass:\"card-body px-3 pb-1\"},[_c('div',{staticClass:\"clearfix\"},[_c('button',{staticClass:\"fa-star btn-icon float-left\",class:{fas:item.isStar,far:!_vm.starProduct.id},attrs:{\"title\":\"加入最愛\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.addStar(item)}}}),(item.price)?_c('del',{staticClass:\"h6 float-right\"},[_vm._v(\" \"+_vm._s(_vm._f(\"currency\")(item.origin_price)))]):_vm._e()]),_c('div',{staticClass:\"clearfix\"},[_c('span',{staticClass:\"badge badge-success float\",staticStyle:{\"color\":\"#1b1a1b\"}},[_vm._v(\" \"+_vm._s(item.category))]),(!item.price)?_c('div',{staticClass:\"h5 float-right\"},[_vm._v(\" \"+_vm._s(_vm._f(\"currency\")(item.origin_price)))]):_vm._e(),(item.price)?_c('div',{staticClass:\"h5 float-right\"},[_vm._v(\" \"+_vm._s(_vm._f(\"currency\")(item.price)))]):_vm._e()])]),_c('div',{staticClass:\"px-3 pb-1\"},[_c('h4',[_vm._v(_vm._s(item.title))]),_c('p',[_vm._v(_vm._s(item.description))])]),_c('div',{staticClass:\"card-footer d-flex\"},[_c('button',{staticClass:\"btn btn-outline-primary btn-sm\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.getProduct(item.id)}}},[(_vm.status.loadingGetProduct === item.id)?_c('i',{staticClass:\"fas fa-spinner fa-spin\"}):_vm._e(),_vm._v(\" 查看更多 \")]),_c('button',{staticClass:\"btn btn-outline-danger btn-sm ml-auto\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.addCart(item.id)}}},[(_vm.status.loadingAddCart === item.id)?_c('i',{staticClass:\"fas fa-spinner fa-spin\"}):_vm._e(),_vm._v(\" 加到購物車 \")])])])])}),0)])])])]),_c('a',{staticClass:\"iconBottom\",attrs:{\"href\":\"#\",\"title\":\"結帳去\"},on:{\"click\":function($event){$event.preventDefault();return _vm.toShoppingCart()}}},[_c('i',{staticClass:\"fas fa-shopping-cart\"}),(_vm.cart.carts.length >= 1)?_c('small',{staticClass:\"text-danger\"},[_vm._v(_vm._s(_vm.cart.carts.length))]):_vm._e()])])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"marquee bg-success\"},[_c('i',{staticClass:\"far fa-bell\"}),_c('span',[_vm._v(\"點擊星星即可加入最愛，編輯喜愛的商品。\")])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('section',[_c('div',{staticClass:\"img\"},[_c('h2',[_vm._v(\"產品列表\")])])])\n}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"wrap\">\n    <div v-if=\"isLoading\" class=\"loading\">\n      <div class=\"loading-item fas fas fa-apple-alt\"></div>\n      <div class=\"loading-item fas fa-lemon\"></div>\n      <div class=\"loading-item fas fa-carrot\"></div>\n    </div>\n    <div class=\"marquee bg-success\">\n      <i class=\"far fa-bell\"></i>\n      <span>點擊星星即可加入最愛，編輯喜愛的商品。</span>\n    </div>\n    <section>\n      <div class=\"img\">\n        <h2>產品列表</h2>\n      </div>\n    </section>\n    <section>\n      <div class=\"container\">\n        <div class=\"row\">\n          <div class=\"col-md-3 my-2\">\n            <div class=\"Sidebar-sticky\">\n              <h5 class=\"text-info\">商品分類</h5>\n              <ul class=\"Sidebar-menu\">\n                <li>\n                  <a href=\"#\" @click.prevent=\"category ='all'\">全部商品</a>\n                </li>\n                <li>\n                  <a href=\"#\" @click.prevent=\"category ='蔬菜'\">蔬菜</a>\n                </li>\n                <li>\n                  <a href=\"#\" @click.prevent=\"category ='水果'\">水果</a>\n                </li>\n                <li>\n                  <a href=\"#\" @click.prevent=\"category ='我的最愛'\">我的最愛</a>\n                </li>\n              </ul>\n            </div>\n          </div>\n          <div class=\"col-md-9\" >\n            <div class=\"row\" style=\"overflow:hidden\">\n              <div class=\"col-md-6 my-4 card-Hover\" v-for=\"item in filteredTodo\" :key=\"item.id\"\n              @click=\"getProduct(item.id)\">\n                <div class=\"card border-0 shadow-sm\">\n                  <div\n                    style=\"height: 200px; background-size: cover; background-position: center\"\n                    :style=\"{backgroundImage: `url(${item.image})`}\"\n                  ></div>\n                  <div class=\"card-body px-3 pb-1\">\n                    <div class=\"clearfix\">\n                      <button\n                      class=\"fa-star btn-icon float-left\"\n                      title=\"加入最愛\"\n                     :class=\"{fas:item.isStar,far:!starProduct.id}\"\n                      @click.stop=\"addStar(item)\"\n                     ></button>\n                      <del class=\"h6 float-right\" v-if=\"item.price\">\n                        {{ item.origin_price | currency }}</del>\n                    </div>\n                    <div class=\"clearfix\">\n                      <span class=\"badge badge-success float\" style=\"color:#1b1a1b\">\n                        {{ item.category }}</span>\n                      <div class=\"h5 float-right\" v-if=\"!item.price\">\n                        {{ item.origin_price | currency }}</div>\n                      <div class=\"h5 float-right\" v-if=\"item.price\">\n                        {{ item.price | currency }}</div>\n                    </div>\n                  </div>\n                  <div class=\"px-3 pb-1\">\n                    <h4 >{{ item.title }}</h4>\n                    <p>{{ item.description }}</p>\n                  </div>\n                  <div class=\"card-footer d-flex\">\n                    <button\n                      type=\"button\"\n                      class=\"btn btn-outline-primary btn-sm\"\n                      @click.stop=\"getProduct(item.id)\"\n                    >\n                      <!-- icon讀取效果點擊時ID相等才觸發 -->\n                  <i class=\"fas fa-spinner fa-spin\" v-if=\"status.loadingGetProduct === item.id\"></i>\n                    查看更多\n                    </button>\n                    <button\n                      type=\"button\"\n                      class=\"btn btn-outline-danger btn-sm ml-auto\"\n                      @click.stop=\"addCart(item.id)\"\n                    >\n                  <i class=\"fas fa-spinner fa-spin\" v-if=\"status.loadingAddCart === item.id\"></i>\n                      加到購物車\n                    </button>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </section>\n    <a href=\"#\" class=\"iconBottom\" title=\"結帳去\" @click.prevent=\"toShoppingCart()\">\n      <i class=\"fas fa-shopping-cart\"></i>\n      <small class=\"text-danger\" v-if=\"cart.carts.length >= 1\">{{ cart.carts.length }}</small>\n    </a>\n  </div>\n</template>\n\n<script>\n\nexport default {\n  data() {\n    return {\n      isLoading: false,\n      products: [],\n      status: {\n        loadingAddCart: '',\n        loadingGetProduct: '',\n      },\n      category: 'all',\n      starProduct: [],\n    };\n  },\n  computed: {\n    filteredTodo() {\n      const newProducts = {};\n      switch (this.category) {\n        case 'all':\n          return this.products;\n        case '蔬菜':\n          for (let i = 0; i < this.products.length; i += 1) {\n            if (this.products[i].category === '蔬菜') {\n              newProducts[i] = this.products[i];\n            }\n          }\n          return newProducts;\n        case '水果':\n          for (let i = 0; i < this.products.length; i += 1) {\n            if (this.products[i].category === '水果') {\n              newProducts[i] = this.products[i];\n            }\n          }\n          return newProducts;\n        case '我的最愛':\n          return this.starProduct;\n        default:\n          return this.products;\n      }\n    },\n    cart() {\n      return this.$store.state.cart;\n    },\n  },\n  methods: {\n    getProducts() {\n      const api = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_CUMSTOMPATH}/products/all`;\n      this.isLoading = true;\n      this.axios.get(api).then((response) => {\n        this.isLoading = false;\n        this.products = response.data.products;\n        const temCategory = sessionStorage.getItem('category');\n        if (temCategory) {\n          this.category = temCategory;\n        }\n        for (let i = 0; i < this.products.length; i += 1) {\n          this.products[i].isStar = false;\n        }\n        this.myFavourite();\n      });\n    },\n    myFavourite() {\n      const localStoraged = JSON.parse(localStorage.getItem('Star'));\n      if (localStoraged) {\n        this.starProduct = localStoraged;\n        this.products.forEach((product) => {\n          const Product = product;\n          this.starProduct.forEach((item) => {\n            if (item.id === Product.id) {\n              Product.isStar = true;\n            }\n          });\n        });\n      }\n    },\n    getProduct(id) {\n      const api = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_CUMSTOMPATH}/product/${id}`;\n      this.status.loadingGetProduct = id;\n      this.$http.get(api).then(() => {\n        this.status.loadingGetProduct = '';\n        localStorage.setItem('product', JSON.stringify(id));\n        this.$router.push('/introduction');\n      });\n    },\n    addCart(id, qty = 1) {\n      const api = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_CUMSTOMPATH}/cart`;\n      this.isLoading = true;\n      this.status.loadingAddCart = id;\n      const cart = {\n        product_id: id,\n        qty,\n      };\n      this.$http.post(api, { data: cart }).then(() => {\n        this.$store.dispatch('getCart');\n        this.status.loadingAddCart = '';\n        this.isLoading = false;\n      });\n    },\n    addStar(productItem) {\n      const product = productItem;\n      const avoidRepeat = this.starProduct.some((item) => item.id === product.id);\n      if (!this.starProduct.includes(product) && !avoidRepeat) {\n        product.isStar = true;\n        this.starProduct.push(product);\n      } else {\n        product.isStar = false;\n        this.starProduct.splice(this.starProduct.indexOf(product), 1);\n        this.products.forEach((item) => {\n          const Item = item;\n          if (Item.id === product.id) {\n            Item.isStar = false;\n          }\n        });\n      }\n      localStorage.setItem('Star', JSON.stringify(this.starProduct));\n      this.myFavourite();\n    },\n    toShoppingCart() {\n      this.$store.dispatch('getCart');\n      if (this.cart.carts.length >= 1 && this.$router.history.current.path !== '/shopping_cart') {\n        this.$router.push('/shopping_cart');\n      } else if (this.$router.history.current.path !== '/product_list'\n      && this.$router.history.current.path !== '/shopping_cart') {\n        this.$router.push('/product_list');\n        this.$bus.$emit('message:push', '購物車內無商品，請選購。');\n      } if (!this.cart.carts.length) {\n        this.$bus.$emit('message:push', '購物車內無商品，請選購。');\n      }\n    },\n    removeSessionStorage() {\n      sessionStorage.removeItem('category');\n    },\n  },\n  created() {\n    this.getProducts();\n    this.$store.dispatch('getCart');\n  },\n  mounted() {\n    window.addEventListener('unload', this.removeSessionStorage);\n  },\n  Destroy() {\n    window.removeEventListener('unload', this.removeSessionStorage);\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.wrap {\n  margin-top: 67px;\n}\n@keyframes marquee {\n  0% {\n    transform: translateX(100%);\n  }\n  100% {\n    transform: translateX(0);\n  }\n}\n.btn-icon{\n  background: none;\n  outline: none;\n  border: none;\n  color:#336666;\n  font-size: 20px;\n}\n.card-Hover{\n  cursor: pointer;\n}\n.card-Hover:hover{\n  transform: scale(1.01);\n  transition: 0.3s;\n}\n.marquee {\n  position: relative;\n  padding: 1px;\n  z-index: 200;\n  width: 100%;\n  padding-left: 20px;\n  overflow: hidden;\n  display: block;\n  span {\n    width: 100%;\n    height: 100%;\n    position: absolute;\n    font-weight: bold;\n    animation: marquee 8s infinite linear alternate;\n  }\n}\n.img {\n  background-image: url(https://images.unsplash.com/photo-1489450278009-822e9be04dff?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1952&q=80);\n  width: 100%;\n  height: 23vw;\n  background-position: center;\n  background-size: cover;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  h2 {\n    color: white;\n    font-weight: bold;\n    font-size: 40px;\n  }\n}\n.decoration-none {\n  text-decoration: none;\n}\n.Sidebar-sticky {\n  position: sticky;\n  top: 67px;\n}\n.Sidebar-menu {\n  display: flex;\n  flex-direction: column;\n  padding: 0;\n  li {\n    list-style: none;\n    border: 2px solid;\n    border-color: #01814A #02C874 #02C874 #01814A;\n    border-radius: 20px;\n    padding: 8px;\n    margin-bottom: 8px;\n    text-align: center;\n    transition: all 0.4s;\n    a {\n      display: block;\n      text-decoration: none;\n    }\n  }\n  li:hover {\n    background-color: #34495e;\n    a {\n      color: #ffffff;\n    }\n  }\n}\n.iconBottom {\n  transition: all 0.4s;\n  position: fixed;\n  right: 25px;\n  bottom: 40px;\n  font-size: 22px;\n  color: #01814a;\n  text-decoration: none;\n  small{\n    position: absolute;\n    left: 100%;\n    top: -2px;\n  }\n}\n\n.iconBottom:hover {\n  color: #2f6c47;\n  transform: scale(1.2);\n}\n@media (max-width: 767.98px) {\n  h5 {\n    text-align: center;\n  }\n  .iconBottom {\n  transition: all 0.4s;\n  position: fixed;\n  right: 15px;\n  bottom: 20px;\n  font-size: 22px;\n  color: #01814a;\n  text-decoration: none;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProductList.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProductList.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ProductList.vue?vue&type=template&id=602b772e&scoped=true\"\nimport script from \"./ProductList.vue?vue&type=script&lang=js\"\nexport * from \"./ProductList.vue?vue&type=script&lang=js\"\nimport style0 from \"./ProductList.vue?vue&type=style&index=0&id=602b772e&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"602b772e\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProductList.vue?vue&type=style&index=0&id=602b772e&prod&lang=scss&scoped=true\""],"sourceRoot":""}