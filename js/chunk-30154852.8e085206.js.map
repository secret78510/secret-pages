{"version":3,"sources":["webpack:///./src/views/frontend/Login.vue?194a","webpack:///./src/components/backend/AlertMessage.vue","webpack:///src/components/backend/AlertMessage.vue","webpack:///./src/components/backend/AlertMessage.vue?804d","webpack:///./src/components/backend/AlertMessage.vue?8ed8","webpack:///./src/views/frontend/Login.vue","webpack:///src/views/frontend/Login.vue","webpack:///./src/views/frontend/Login.vue?8e77","webpack:///./src/views/frontend/Login.vue?b842","webpack:///./src/components/backend/AlertMessage.vue?8c33"],"names":["render","_vm","this","_c","_self","staticClass","_l","messages","item","i","key","class","status","_v","_s","message","attrs","on","$event","removeMessage","staticRenderFns","data","methods","updateMessage","timestamp","Date","push","removeMessageWithTiming","num","splice","setTimeout","forEach","created","$bus","$on","component","isLogined","_e","preventDefault","signin","apply","arguments","directives","name","rawName","value","user","username","expression","domProps","target","composing","$set","password","previous","components","AlertMessage","api","$http","post","then","response","success","token","expired","document","cookie","$router","$emit","window","history","back","mounted","hexTokenExpired","replace","hexToken","Number","now"],"mappings":"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","file":"js/chunk-30154852.8e085206.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=0&id=57f3b44c&prod&lang=scss&scoped=true\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"message-alert\"},_vm._l((_vm.messages),function(item,i){return _c('div',{key:i,staticClass:\"alert alert-dismissible\",class:'alert-' + item.status},[_vm._v(\" \"+_vm._s(item.message)+\" \"),_c('button',{staticClass:\"close\",attrs:{\"type\":\"button\",\"aria-label\":\"Close\"},on:{\"click\":function($event){return _vm.removeMessage(i)}}},[_c('span',{attrs:{\"aria-hidden\":\"true\"}},[_vm._v(\"×\")])])])}),0)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"message-alert\">\n    <div\n      class=\"alert alert-dismissible\"\n      :class=\"'alert-' + item.status\"\n      v-for=\"(item, i) in messages\"\n      :key=\"i\"\n    >\n      {{ item.message }}\n      <button\n        type=\"button\"\n        class=\"close\"\n        @click=\"removeMessage(i)\"\n        aria-label=\"Close\"\n      >\n        <span aria-hidden=\"true\">&times;</span>\n      </button>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      messages: [],\n    };\n  },\n  methods: {\n    updateMessage(message, status) {\n      const timestamp = new Date();\n      this.messages.push({\n        message,\n        status,\n        timestamp,\n      });\n      this.removeMessageWithTiming(timestamp);\n    },\n    removeMessage(num) {\n      this.messages.splice(num, 1);\n    },\n    removeMessageWithTiming(timestamp) {\n      setTimeout(() => {\n        this.messages.forEach((item, i) => {\n          if (item.timestamp === timestamp) {\n            this.messages.splice(i, 1);\n          }\n        });\n      }, 2000);\n    },\n  },\n  created() {\n    // 自定義名稱 'messsage:push'\n    // message: 傳入參數\n    // status: 樣式，預設值為 warning\n    this.$bus.$on('message:push', (message, status = 'warning') => {\n      this.updateMessage(message, status);\n    });\n  },\n};\n</script>\n\n<style scope>\n.message-alert {\n  position: fixed;\n  max-width: 50%;\n  top: 56px;\n  right: 20px;\n  z-index: 1100;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AlertMessage.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AlertMessage.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./AlertMessage.vue?vue&type=template&id=6d9fef07\"\nimport script from \"./AlertMessage.vue?vue&type=script&lang=js\"\nexport * from \"./AlertMessage.vue?vue&type=script&lang=js\"\nimport style0 from \"./AlertMessage.vue?vue&type=style&index=0&id=6d9fef07&prod&scope=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return (!_vm.isLogined)?_c('div',[_c('AlertMessage'),_c('form',{staticClass:\"form\",on:{\"submit\":function($event){$event.preventDefault();return _vm.signin.apply(null, arguments)}}},[_c('h1',[_vm._v(\"登入\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.user.username),expression:\"user.username\"}],staticClass:\"input\",attrs:{\"type\":\"email\",\"autocomplete\":\"off\",\"name\":\"email\",\"placeholder\":\"信箱\",\"required\":\"\"},domProps:{\"value\":(_vm.user.username)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.user, \"username\", $event.target.value)}}}),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.user.password),expression:\"user.password\"}],staticClass:\"input\",attrs:{\"type\":\"password\",\"autocomplete\":\"off\",\"placeholder\":\"密碼\",\"name\":\"password\",\"required\":\"\"},domProps:{\"value\":(_vm.user.password)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.user, \"password\", $event.target.value)}}}),_c('input',{staticClass:\"submit\",attrs:{\"type\":\"submit\",\"value\":\"登入\"}})]),_c('i',{staticClass:\"fas fa-times icon\",attrs:{\"title\":\"回到上一頁\"},on:{\"click\":function($event){return _vm.previous()}}})],1):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div v-if=\"!isLogined\">\n    <AlertMessage/>\n    <form class=\"form\" @submit.prevent=\"signin\">\n      <h1>登入</h1>\n    <input class=\"input\" type=\"email\"\n        autocomplete=\"off\"\n        name=\"email\"\n        placeholder=\"信箱\"\n        required\n        v-model=\"user.username\"\n        >\n    <input class=\"input\" type=\"password\"\n        autocomplete=\"off\"\n        placeholder=\"密碼\"\n        name=\"password\"\n        required\n        v-model=\"user.password\"\n        >\n    <input class=\"submit\" type=\"submit\" value=\"登入\">\n  </form>\n <i class=\"fas fa-times icon\" title=\"回到上一頁\" @click=\"previous()\"></i>\n  </div>\n</template>\n\n<script>\nimport AlertMessage from '../../components/backend/AlertMessage.vue';\n\nexport default {\n  data() {\n    return {\n      user: {\n        username: '',\n        password: '',\n      },\n      isLogined: true,\n    };\n  },\n  components: {\n    AlertMessage,\n  },\n  methods: {\n    signin() {\n      const api = `${process.env.VUE_APP_APIPATH}/admin/signin`;\n      this.$http.post(api, this.user).then((response) => {\n        if (response.data.success) {\n          const { token } = response.data;\n          const { expired } = response.data;\n          document.cookie = `hexToken=${token}; expires=${new Date(expired)}`;\n          document.cookie = `hexTokenExpired=${expired}; expires=${new Date(expired)}`;\n          this.$router.push('/manage/product');\n        } else {\n          this.$bus.$emit('message:push', '密碼錯誤');\n        }\n      });\n    },\n    previous() {\n      window.history.back();\n    },\n  },\n  mounted() {\n    const hexTokenExpired = document.cookie.replace(/(?:(?:^|.*;\\s*)hexTokenExpired\\s*=\\s*([^;]*).*$)|^.*$/, '$1');\n    const hexToken = document.cookie.replace(/(?:(?:^|.*;\\s*)hexToken\\s*=\\s*([^;]*).*$)|^.*$/, '$1');\n    if (hexToken && Number(hexTokenExpired) > Date.now()) {\n      this.$router.push('/manage/product');\n    } else {\n      this.isLogined = false;\n    }\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.icon{\n  position: absolute;\n  top: 20px;\n  right: 20px;\n  font-size: 30px;\n  color: #fff;\n  cursor: pointer;\n}\n.form {\n  width:100%;\n  height: 100%;\n  padding: 40px;\n  background-color: #000;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  position: absolute;\n  text-align: center;\n\n  h1 {\n      text-transform: uppercase;\n      font-weight: 500;\n      color: white;\n  }\n  .input {\n      border: 2px solid #336666;\n      display: block;\n      background: none;\n      margin: 20px auto;\n      padding: 14px 10px;\n      text-align: center;\n      width: 250px;\n      color: #fff;\n      border-radius: 24px;\n      transition: 0.3s;\n      outline: none;\n  }\n  .input:focus {\n      width: 330px;\n      border-color: #02C874;\n  }\n  .submit {\n      width: 150px;\n      cursor: pointer;\n      border: 2px solid #02C874;\n      background: none;\n      margin: 10px auto;\n      padding: 14px 10px;\n      text-align: center;\n      color: #fff;\n      border-radius: 24px;\n      transition: 0.3s;\n      outline: none;\n  }\n  .submit:hover {\n      background: #02C874;\n      color: #000;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=57f3b44c&scoped=true\"\nimport script from \"./Login.vue?vue&type=script&lang=js\"\nexport * from \"./Login.vue?vue&type=script&lang=js\"\nimport style0 from \"./Login.vue?vue&type=style&index=0&id=57f3b44c&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"57f3b44c\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AlertMessage.vue?vue&type=style&index=0&id=6d9fef07&prod&scope=true&lang=css\""],"sourceRoot":""}